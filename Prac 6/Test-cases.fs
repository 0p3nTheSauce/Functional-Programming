Test-cases are separated by a line of dashes.  You SHOULD be able to just copy-and-paste the input into the REPL, and see the expected output as your final output.  (of course, you will also have intermediate output which will guide you in understanding what your program is doing)

-----------------------------------

Input:
simulate 10 10;;
OPEN 0 0 8 8
MOVE 0 0 5 0

Expected:
2 0 8 8

Comment:
Command 2 can only move 2, not 5.

-----------------------------------

simulate 10 10;;
OPEN 2 2 8 8
MOVE 3 3 -5 0

Expected:
0 2 8 8

Comment:
Command 2 can only move 2, not 5.

-----------------------------------

simulate 10 10;;
OPEN 2 2 8 8
MOVE 3 3 0 -5

Expected:
2 0 8 8

Comment:
Command 2 can only move 2, not 5.

-----------------------------------

simulate 10 10;;
OPEN 0 0 8 8
MOVE 0 0 0 5

Expected:
0 2 8 8

Comment:
Command 2 can only move 2, not 5.

-----------------------------------

simulate 6000 6000;;
OPEN 5000 5000 5 5
OPEN 5000 4990 5 5
OPEN 5000 4980 5 5
OPEN 5000 4970 5 5
OPEN 5000 4960 5 5
OPEN 5000 4950 5 5
OPEN 5000 4940 5 5
OPEN 5000 4930 5 5
OPEN 5000 4920 5 5
OPEN 5000 4910 5 5
OPEN 5000 4900 5 5
OPEN 5000 4890 5 5
OPEN 5000 4880 5 5
OPEN 5000 4870 5 5
OPEN 5000 4860 5 5
OPEN 5000 4850 5 5
OPEN 5000 4840 5 5
OPEN 5000 4830 5 5
OPEN 5000 4820 5 5
OPEN 5000 4810 5 5
OPEN 5000 4800 5 5
OPEN 5000 4790 5 5
OPEN 5000 4780 5 5
OPEN 5000 4770 5 5
OPEN 5000 4760 5 5
OPEN 5000 4750 5 5
OPEN 5000 4740 5 5
OPEN 5000 4730 5 5
OPEN 5000 4720 5 5
OPEN 5000 4710 5 5
OPEN 5000 4700 5 5
OPEN 5000 4690 5 5
OPEN 5000 4680 5 5
OPEN 5000 4670 5 5
OPEN 5000 4660 5 5
OPEN 5000 4650 5 5
OPEN 5000 4640 5 5
OPEN 5000 4630 5 5
OPEN 5000 4620 5 5
OPEN 5000 4610 5 5
OPEN 5000 4600 5 5
OPEN 5000 4590 5 5
OPEN 5000 4580 5 5
OPEN 5000 4570 5 5
OPEN 5000 4560 5 5
OPEN 5000 4550 5 5
OPEN 5000 4540 5 5
OPEN 5000 4530 5 5
OPEN 5000 4520 5 5
OPEN 5000 4510 5 5
OPEN 5000 4500 5 5
OPEN 5000 4490 5 5
OPEN 5000 4480 5 5
OPEN 5000 4470 5 5
OPEN 5000 4460 5 5
OPEN 5000 4450 5 5
OPEN 5000 4440 5 5
OPEN 5000 4430 5 5
OPEN 5000 4420 5 5
OPEN 5000 4410 5 5
OPEN 5000 4400 5 5
OPEN 5000 4390 5 5
OPEN 5000 4380 5 5
OPEN 5000 4370 5 5
OPEN 5000 4360 5 5
OPEN 5000 4350 5 5
OPEN 5000 4340 5 5
OPEN 5000 4330 5 5
OPEN 5000 4320 5 5
OPEN 5000 4310 5 5
OPEN 5000 4300 5 5
OPEN 5000 4290 5 5
OPEN 5000 4280 5 5
OPEN 5000 4270 5 5
OPEN 5000 4260 5 5
OPEN 5000 4250 5 5
OPEN 5000 4240 5 5
OPEN 5000 4230 5 5
OPEN 5000 4220 5 5
OPEN 5000 4210 5 5
OPEN 5000 4200 5 5
OPEN 5000 4190 5 5
OPEN 5000 4180 5 5
OPEN 5000 4170 5 5
OPEN 5000 4160 5 5
OPEN 5000 4150 5 5
OPEN 5000 4140 5 5
OPEN 5000 4130 5 5
OPEN 5000 4120 5 5
OPEN 5000 4110 5 5
OPEN 5000 4100 5 5
OPEN 5000 4090 5 5
OPEN 5000 4080 5 5
OPEN 5000 4070 5 5
OPEN 5000 4060 5 5
OPEN 5000 4050 5 5
OPEN 5000 4040 5 5
OPEN 5000 4030 5 5
OPEN 5000 4020 5 5
OPEN 5000 4010 5 5
OPEN 5000 4000 5 5
OPEN 5000 3990 5 5
OPEN 5000 3980 5 5
OPEN 5000 3970 5 5
OPEN 5000 3960 5 5
OPEN 5000 3950 5 5
OPEN 5000 3940 5 5
OPEN 5000 3930 5 5
OPEN 5000 3920 5 5
OPEN 5000 3910 5 5
OPEN 5000 3900 5 5
OPEN 5000 3890 5 5
OPEN 5000 3880 5 5
OPEN 5000 3870 5 5
OPEN 5000 3860 5 5
OPEN 5000 3850 5 5
OPEN 5000 3840 5 5
OPEN 5000 3830 5 5
OPEN 5000 3820 5 5
OPEN 5000 3810 5 5
OPEN 5000 3800 5 5
OPEN 5000 3790 5 5
OPEN 5000 3780 5 5
OPEN 5000 3770 5 5
OPEN 5000 3760 5 5
OPEN 5000 3750 5 5
OPEN 5000 3740 5 5
OPEN 5000 3730 5 5
OPEN 5000 3720 5 5
OPEN 5000 3710 5 5
OPEN 5000 3700 5 5
OPEN 5000 3690 5 5
OPEN 5000 3680 5 5
OPEN 5000 3670 5 5
OPEN 5000 3660 5 5
OPEN 5000 3650 5 5
OPEN 5000 3640 5 5
OPEN 5000 3630 5 5
OPEN 5000 3620 5 5
OPEN 5000 3610 5 5
OPEN 5000 3600 5 5
OPEN 5000 3590 5 5
OPEN 5000 3580 5 5
OPEN 5000 3570 5 5
OPEN 5000 3560 5 5
OPEN 5000 3550 5 5
OPEN 5000 3540 5 5
OPEN 5000 3530 5 5
OPEN 5000 3520 5 5
OPEN 5000 3510 5 5
OPEN 5000 3500 5 5
OPEN 5000 3490 5 5
OPEN 5000 3480 5 5
OPEN 5000 3470 5 5
OPEN 5000 3460 5 5
OPEN 5000 3450 5 5
OPEN 5000 3440 5 5
OPEN 5000 3430 5 5
OPEN 5000 3420 5 5
OPEN 5000 3410 5 5
OPEN 5000 3400 5 5
OPEN 5000 3390 5 5
OPEN 5000 3380 5 5
OPEN 5000 3370 5 5
OPEN 5000 3360 5 5
OPEN 5000 3350 5 5
OPEN 5000 3340 5 5
OPEN 5000 3330 5 5
OPEN 5000 3320 5 5
OPEN 5000 3310 5 5
OPEN 5000 3300 5 5
OPEN 5000 3290 5 5
OPEN 5000 3280 5 5
OPEN 5000 3270 5 5
OPEN 5000 3260 5 5
OPEN 5000 3250 5 5
OPEN 5000 3240 5 5
OPEN 5000 3230 5 5
OPEN 5000 3220 5 5
OPEN 5000 3210 5 5
OPEN 5000 3200 5 5
OPEN 5000 3190 5 5
OPEN 5000 3180 5 5
OPEN 5000 3170 5 5
OPEN 5000 3160 5 5
OPEN 5000 3150 5 5
OPEN 5000 3140 5 5
OPEN 5000 3130 5 5
OPEN 5000 3120 5 5
OPEN 5000 3110 5 5
OPEN 5000 3100 5 5
OPEN 5000 3090 5 5
OPEN 5000 3080 5 5
OPEN 5000 3070 5 5
OPEN 5000 3060 5 5
OPEN 5000 3050 5 5
OPEN 5000 3040 5 5
OPEN 5000 3030 5 5
OPEN 5000 3020 5 5
OPEN 5000 3010 5 5
MOVE 5000 5000 0 -1000
MOVE 5000 4000 0 -1000
MOVE 5000 3000 0 -1000
MOVE 5000 2000 0 -1000

Expected:
5000 1000 5 5
5000 995 5 5
5000 990 5 5
5000 985 5 5
5000 980 5 5
5000 975 5 5
5000 970 5 5
5000 965 5 5
5000 960 5 5
5000 955 5 5
5000 950 5 5
5000 945 5 5
5000 940 5 5
5000 935 5 5
5000 930 5 5
5000 925 5 5
5000 920 5 5
5000 915 5 5
5000 910 5 5
5000 905 5 5
5000 900 5 5
5000 895 5 5
5000 890 5 5
5000 885 5 5
5000 880 5 5
5000 875 5 5
5000 870 5 5
5000 865 5 5
5000 860 5 5
5000 855 5 5
5000 850 5 5
5000 845 5 5
5000 840 5 5
5000 835 5 5
5000 830 5 5
5000 825 5 5
5000 820 5 5
5000 815 5 5
5000 810 5 5
5000 805 5 5
5000 800 5 5
5000 795 5 5
5000 790 5 5
5000 785 5 5
5000 780 5 5
5000 775 5 5
5000 770 5 5
5000 765 5 5
5000 760 5 5
5000 755 5 5
5000 750 5 5
5000 745 5 5
5000 740 5 5
5000 735 5 5
5000 730 5 5
5000 725 5 5
5000 720 5 5
5000 715 5 5
5000 710 5 5
5000 705 5 5
5000 700 5 5
5000 695 5 5
5000 690 5 5
5000 685 5 5
5000 680 5 5
5000 675 5 5
5000 670 5 5
5000 665 5 5
5000 660 5 5
5000 655 5 5
5000 650 5 5
5000 645 5 5
5000 640 5 5
5000 635 5 5
5000 630 5 5
5000 625 5 5
5000 620 5 5
5000 615 5 5
5000 610 5 5
5000 605 5 5
5000 600 5 5
5000 595 5 5
5000 590 5 5
5000 585 5 5
5000 580 5 5
5000 575 5 5
5000 570 5 5
5000 565 5 5
5000 560 5 5
5000 555 5 5
5000 550 5 5
5000 545 5 5
5000 540 5 5
5000 535 5 5
5000 530 5 5
5000 525 5 5
5000 520 5 5
5000 515 5 5
5000 510 5 5
5000 505 5 5
5000 500 5 5
5000 495 5 5
5000 490 5 5
5000 485 5 5
5000 480 5 5
5000 475 5 5
5000 470 5 5
5000 465 5 5
5000 460 5 5
5000 455 5 5
5000 450 5 5
5000 445 5 5
5000 440 5 5
5000 435 5 5
5000 430 5 5
5000 425 5 5
5000 420 5 5
5000 415 5 5
5000 410 5 5
5000 405 5 5
5000 400 5 5
5000 395 5 5
5000 390 5 5
5000 385 5 5
5000 380 5 5
5000 375 5 5
5000 370 5 5
5000 365 5 5
5000 360 5 5
5000 355 5 5
5000 350 5 5
5000 345 5 5
5000 340 5 5
5000 335 5 5
5000 330 5 5
5000 325 5 5
5000 320 5 5
5000 315 5 5
5000 310 5 5
5000 305 5 5
5000 300 5 5
5000 295 5 5
5000 290 5 5
5000 285 5 5
5000 280 5 5
5000 275 5 5
5000 270 5 5
5000 265 5 5
5000 260 5 5
5000 255 5 5
5000 250 5 5
5000 245 5 5
5000 240 5 5
5000 235 5 5
5000 230 5 5
5000 225 5 5
5000 220 5 5
5000 215 5 5
5000 210 5 5
5000 205 5 5
5000 200 5 5
5000 195 5 5
5000 190 5 5
5000 185 5 5
5000 180 5 5
5000 175 5 5
5000 170 5 5
5000 165 5 5
5000 160 5 5
5000 155 5 5
5000 150 5 5
5000 145 5 5
5000 140 5 5
5000 135 5 5
5000 130 5 5
5000 125 5 5
5000 120 5 5
5000 115 5 5
5000 110 5 5
5000 105 5 5
5000 100 5 5
5000 95 5 5
5000 90 5 5
5000 85 5 5
5000 80 5 5
5000 75 5 5
5000 70 5 5
5000 65 5 5
5000 60 5 5
5000 55 5 5
5000 50 5 5
5000 45 5 5
5000 40 5 5
5000 35 5 5
5000 30 5 5
5000 25 5 5
5000 20 5 5
5000 15 5 5
5000 10 5 5
5000 5 5 5

-----------------------------------

simulate 1000 1000;;
OPEN 0 0 10 10
OPEN 10 0 10 10
OPEN 20 0 10 10
OPEN 0 10 10 10
OPEN 10 10 10 10
OPEN 20 10 10 10
OPEN 0 20 10 10
OPEN 10 20 10 10
OPEN 20 20 10 10
CLOSE 19 19
CLOSE 20 20
CLOSE 0 10

Expected:
0 0 10 10
10 0 10 10
20 0 10 10
20 10 10 10
0 20 10 10
10 20 10 10

-----------------------------------

simulate 1000 1000;;
OPEN 500 500 10 10
CLOSE 499 499
CLOSE 499 500
CLOSE 500 499
CLOSE 510 509
CLOSE 509 510
CLOSE 510 510
CLOSE 499 510
CLOSE 500 510
CLOSE 499 509
CLOSE 510 499
CLOSE 510 500
CLOSE 509 499

Expected:
500 500 10 10

Comment:
There is no window to close at any of these positions (commands 2 through 13), so nothing should be done!

-----------------------------------

simulate 1000 1000;;
OPEN 0 0 1 1
MOVE 0 0 100000 0
MOVE 999 0 0 100000
MOVE 999 999 -100000 0
MOVE 0 999 0 -100000

Expected:
0 0 1 1

Comment:
All the move commands can only move 999.  We are basically going along the borders of the screen with these moves.

-----------------------------------

simulate 1000 1000;;
OPEN 35 73 10 10
RESIZE 40 80 2 3

Expected:
35 73 2 3

-----------------------------------

simulate 1000 1000;;
OPEN 0 0 10 10
OPEN 0 999 10 10
OPEN 0 991 10 10
OPEN 0 990 10 10
OPEN 999 0 10 10
OPEN 991 0 10 10
OPEN 990 0 10 10
OPEN 999 999 10 10
OPEN 991 991 10 10
OPEN 990 990 10 10
OPEN 990 500 20 20
OPEN 500 990 20 20
OPEN 10 10 980 980

Expected:
0 0 10 10
0 990 10 10
990 0 10 10
990 990 10 10
10 10 980 980

Comment:
Commands 2, 3, 5, 6, 8, 9, 11, and 12 are ignored because the window would overlap.

-----------------------------------

simulate 57 15;;
OPEN 28 2 26 3
OPEN 31 6 9 3
OPEN 24 10 7 3
OPEN 41 9 9 5
OPEN 6 2 12 11
MOVE 6 2 100 0

Expected:
31 2 26 3
31 6 9 3
31 10 7 3
41 9 9 5
19 2 12 11

Comment:
The move can only move 13 units.

-----------------------------------

simulate 1000 1000;;
OPEN 0 0 10 10
OPEN 10 10 10 10
RESIZE 5 5 11 11
RESIZE 5 5 20 10
RESIZE 5 5 10 20
OPEN 10 0 10 10
RESIZE 5 5 10 30
OPEN 30 30 20 20
RESIZE 10 10 25 25
RESIZE 10 10 20 20
RESIZE 10 10 99 20
RESIZE 10 10 20 99

Expected:
0 0 10 30
10 10 20 99
10 0 10 10
30 30 20 20

Comment:
Commands 3 and 9 will fail because the window does not fit.

-----------------------------------

simulate 1000 1000;;
OPEN 1 1 9 9
RESIZE 10 10 4 5
RESIZE 9 10 4 5
RESIZE 10 9 4 5
RESIZE 0 0 4 5
RESIZE 9 9 10000 10000
RESIZE 9 9 1 1
RESIZE 9 9 10 10
RESIZE 1 1 999 999
MOVE 999 999 -100 0
MOVE 999 999 0 -100
MOVE 998 999 0 -100
RESIZE 0 0 1000 1000
RESIZE 0 0 1000 1000

Expected:
0 0 1000 1000

Comment:
Commands 2-5, 8, and 11 are ignored; there's no such window.
Command 6 is ignored because the window doesn't fit.
Commands 10 and 12 can only move 1 unit.

-----------------------------------

simulate 50 75;;
OPEN 20 10 20 5
OPEN 10 25 12 10
OPEN 30 20 10 25
OPEN 20 55 15 10
MOVE 20 10 0 50

Expected:
20 35 20 5
10 40 12 10
30 40 10 25
20 65 15 10

Comment:
The move can only be for 25 units.